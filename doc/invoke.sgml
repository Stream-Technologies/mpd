<!-- $Id: invoke.sgml,v 1.1 2001/03/10 06:06:47 archiecobbs Exp $ -->
<!-- mpd netgraph enabled user mode PPP daemon -->

<!-- <!DOCTYPE linuxdoc PUBLIC '-//FreeBSD//DTD linuxdoc//EN'> -->

  <sect><heading>Invoking mpd<label id="invoke"></heading>

	
<p>
	Mpd is invoked by first setting up your configuration
	files, and then running
<tscreen><tt>
<bf>mpd [ <em>options</em> ] [ <em>configuration</em> ] </bf>
</tt></tscreen>
	If <tt><em>configuration</em></tt> is supplied, then
	mpd looks in <tt>mpd.conf</tt> for a matching label,
	and runs the corresponding commands (up to the first
	blank line). If <tt><em>configuration</em></tt> is
	not supplied, mpd looks for the configuration named
	<tt>default</tt>. If the configuration is not found,
	no commands are executed from <tt>mpd.conf</tt>.

	Mpd can either be run in interactive mode or in the
	background as a daemon. In interactive mode mpd
	accepts commands typed at the console.

	Mpd understands the following command line options.
	Each option has a short, single character form, as
	well as an equivalent long form.

	<descrip>

	<tag><tt>
	-b  --background
	</tt></tag>

	Run as a background daemon.

	<tag><tt>
	-a  --console-address <em>ip-address</em>
	</tt></tag>

	<tag><tt>
	-c  --console-port <em>port</em>
	</tt></tag>

	With either of these options, mpd will listen for and accept
	TCP connections on the given IP address and port. Once connected,
	you can enter commands just as if they were typed in
	interactive mode.  Note that this is a potential security
	hole, as any user on the system can connect. Mpd allows you
	to require a login and password if so desired, but
	<bf>beware</bf>: by default, no login is required.

	The default IP address is <tt>0.0.0.0</tt> (i.e., listen on
	all interfaces) and the default port is 5005.

	<tag><tt>
	-d  --directory <em>dir</em>
	</tt></tag>

	This option allows you to specify a different directory
	for the mpd configuration files other than the default
	<tt>/usr/local/etc/mpd</tt>.

	<tag><tt>
	-p  --pidfile <em>filename</em>
	</tt></tag>

	Mpd will open and lock <tt><em>filename</em></tt> and
	write its process ID before starting. If another mpd
	process is already running, mpd will not start.
	The default is <tt>/var/run/mpd.pid</tt>.

	<tag><tt>
	-k  --kill
	</tt></tag>

	With this option, pd will attempt to kill any existing mpd
	process before beginning execution. The previous process
	must have written its process ID in the PID file
	<tt>/var/run/mpd.pid</tt> (or the file you specify with
	the <tt>--pidfile</tt> option).

	<tag><tt>
	-s  --syslog-ident <em>ident</em>
	</tt></tag>

	Mpd normally logs via <tt>syslog(3)</tt> with the identifier
	<tt>mpd</tt>. This option allows you to change that identifier.

	<tag><tt>
	-v  --version
	</tt></tag>

	Displays the version number of mpd and exits.

	<tag><tt>
	-h  --help
	</tt></tag>

	Displays a usage message and exits.

	</descrip>

	Mpd responds to the following signals while it is running:

	<descrip>

	<tag>SIGTERM</tag>
	Attempt to gracefully shut down all active connections and exit.

	<tag>SIGUSR1</tag>
	This signal causes mpd to initiate a connection
	with the currently active bundle. If mpd is already
	attempting to connect, this signal has no effect.

	<tag>SIGUSR2</tag>
	This signal has the opposite effect, namely, it causes
	mpd to close the currently active bundle. If the bundle
	is already in a closed state, this signal has no effect.

	</descrip>

