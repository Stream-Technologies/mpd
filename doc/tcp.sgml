<!-- $Id: tcp.sgml,v 1.3 2006/02/01 18:36:10 glebius Exp $ -->
<!-- mpd netgraph enabled user mode PPP daemon -->

<!-- <!DOCTYPE linuxdoc PUBLIC '-//FreeBSD//DTD linuxdoc//EN'> -->

  <sect><heading>TCP device type commands<label id="tcp"></heading>

  <p>
  This chapter describes commands that are specific to TCP type links.
  These commands apply to the currently active link, and are only
  valid if the currently active link has type <bf>tcp</bf>.
  <p>
  Due to limitations of ng_ksocket module this device type have two issues:
  - when there are no free incoming link, new connection will anyway 
    be acceped and then dropped instead of not accepting it,
  - tcp connection status is not monitored, so you should use 
    'set link keep-alive' to disconnect broken links.

<descrip>

<tag><tt>
set tcp self <em>ipaddr</em> [ <em>port</em> ]
</tt></tag>

Sets the local IP address and port for the TCP connection.
Port field is required for accepting incoming connections.

<tag><tt>
set tcp peer <em>ipaddr</em> [ <em>port</em> ]
</tt></tag>

Sets the peer IP address and port for the TCP connection.
If none is specified, any peer may connect to us.
Ipaddr and port fields are required for outgoing connections.

<tag><tt>set tcp enable <em>option ...</em> </tt></tag><p>
<tag><tt>set tcp disable <em>option ...</em> </tt></tag><p>

Enable and disable PPPoE device type options for the link.

</descrip>

<p>
The following options are supported:

<descrip>

<tag><tt>originate</tt></tag>

This option enables the initiation of TCP connections to the peer.
If this option is disabled, mpd will not initiate any TCP connections.

<tag><tt>incoming</tt></tag>

This option enables the acceptance of incoming TCP connections.
If this option is disabled, mpd will not accept any incoming TCP connections.

</descrip>


